<template>
    <div class="department">
        <div class="sup_right">
            <div class="depart_head">
                省自评进度情况
            </div>
            <div class="depart_con">
                <ul>
                    <li :class="{ active:  item.total==92}" @click="goDetail" v-for="(item,index,) in list" :key="index"><span>{{item.name}}</span><span>{{item.total}}/92</span></li>
                </ul>
            </div>
        </div>
    </div>
</template>

<script>
    export default {
        data(){
            return{
                list:[]
            }
        },
        methods: {
            getDetail() {
                this.$ajax.get("/api/ddj_provinces").then((res) => {
                    var provinces = JSON.parse(window.localStorage.getItem("provinces"))
                    res.data.data.progress.forEach(item => {
                            provinces.forEach(itemScore =>{
                                if(item.code==itemScore.code){
                                    item.name = itemScore.name
                                }
                            })
                        });
                    this.list = res.data.data.progress
                })
            },
            goDetail() { //跳转详情
                this.$router.push('/home/department/detail')
            }
        },
        mounted() {
            this.getDetail()
        }
    }
</script>

<style>
    .department {
        display: flex;
    }
    .sup_right {
        width: 100%;
        height: 600px;
        background: #fff;
        box-shadow: 1px 1px 8px #ccc;
        padding: 20px;
    }
    .sup_right .depar_head {
        width: 100%;
        height: 38px;
        line-height: 38px;
        text-align: center;
        background: #a4c9e9;
        color: #fff;
    }
    .sup_right .back {
        color: #419bf6
    }
    .sup_right .back a {
        color: #419bf6
    }
    .sup_right .depart_head {
        height: 38px;
        line-height: 38px;
        text-align: center;
        background: #a4c9e9;
        color: #fff;
    }
    .sup_right .depart_con ul {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
    }
    .sup_right .depart_con ul li {
        padding: 10px 26px;
        color: #00a0e9;
        border: 1px solid #00a0e9;
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-top: 14px;
    }
    .sup_right .depart_con ul li span {
        margin-right: 8px;
    }
    .sup_right .depart_con ul li.active {
        color: #fff;
        border: 1px solid #4adedd;
        background: #4adedd;
    }
</style>

